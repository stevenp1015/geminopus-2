### google.adk.agents module

google.adk.agents.**Agent**  
alias of [LlmAgent](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.agents.LlmAgent)

**pydantic model** google.adk.agents.**BaseAgent**  
Bases: BaseModel

Base class for all agents in Agent Development Kit.

  
FIELDS:

* after\_agent\_callback (Callable\[\[google.adk.agents.callback\_context.CallbackContext\], Awaitable\[google.genai.types.Content | None\] | google.genai.types.Content | None\] | None)  
* before\_agent\_callback (Callable\[\[google.adk.agents.callback\_context.CallbackContext\], Awaitable\[google.genai.types.Content | None\] | google.genai.types.Content | None\] | None)  
* description (str)  
* name (str)  
* parent\_agent (google.adk.agents.base\_agent.BaseAgent | None)  
* sub\_agents (list\[google.adk.agents.base\_agent.BaseAgent\])

VALIDATORS:

* \_\_validate\_name » name

**field after\_agent\_callback: Optional\[AfterAgentCallback\] \= None**  
Callback signature that is invoked after the agent run.

PARAMETERS:  
**callback\_context** – MUST be named ‘callback\_context’ (enforced).

RETURNS:  
The content to return to the user.  
When the content is present, the provided content will be used as agent response and appended to event history as agent response.

RETURN TYPE:  
Optional\[types.Content\]

**field before\_agent\_callback: Optional\[BeforeAgentCallback\] \= None**  
Callback signature that is invoked before the agent run.

PARAMETERS:  
**callback\_context** – MUST be named ‘callback\_context’ (enforced).

RETURNS:  
The content to return to the user.  
When the content is present, the agent run will be skipped and the provided content will be returned to user.

RETURN TYPE:  
Optional\[types.Content\]

**field description: str \= ''**  
Description about the agent’s capability.

The model uses this to determine whether to delegate control to the agent. One-line description is enough and preferred.

**field name: str \[Required\]**  
The agent’s name.

Agent name must be a Python identifier and unique within the agent tree. Agent name cannot be “user”, since it’s reserved for end-user’s input.

VALIDATED BY:

* \_\_validate\_name

**field parent\_agent: Optional\[BaseAgent\] \= None**  
The parent agent of this agent.

Note that an agent can ONLY be added as sub-agent once.

If you want to add one agent twice as sub-agent, consider to create two agent instances with identical config, but with different name and add them to the agent tree.

**field sub\_agents: list\[BaseAgent\] \[Optional\]**  
The sub-agents of this agent.

**find\_agent(name)**  
Finds the agent with the given name in this agent and its descendants.

RETURN TYPE:  
Optional\[[BaseAgent](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.agents.BaseAgent)\]

PARAMETERS:  
**name** – The name of the agent to find.

RETURNS:  
The agent with the matching name, or None if no such agent is found.

**find\_sub\_agent(name)**  
Finds the agent with the given name in this agent’s descendants.

RETURN TYPE:  
Optional\[[BaseAgent](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.agents.BaseAgent)\]

PARAMETERS:  
**name** – The name of the agent to find.

RETURNS:  
The agent with the matching name, or None if no such agent is found.

**model\_post\_init(\_BaseAgent\_\_context)**  
Override this method to perform additional initialization after *\_\_init\_\_* and *model\_construct*. This is useful if you want to do some validation that requires the entire model to be initialized.

RETURN TYPE:  
None

**async run\_async(parent\_context)**  
Entry method to run an agent via text-based conversation.

RETURN TYPE:  
AsyncGenerator\[[Event](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.events.Event), None\]

PARAMETERS:  
**parent\_context** – InvocationContext, the invocation context of the parent agent.

YIELDS:  
*Event* – the events generated by the agent.

**async run\_live(parent\_context)**  
Entry method to run an agent via video/audio-based conversation.

RETURN TYPE:  
AsyncGenerator\[[Event](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.events.Event), None\]

PARAMETERS:  
**parent\_context** – InvocationContext, the invocation context of the parent agent.

YIELDS:  
*Event* – the events generated by the agent.

**property root\_agent: [BaseAgent](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.agents.BaseAgent)**  
Gets the root agent of this agent.

**pydantic model** google.adk.agents.**LlmAgent**  
Bases: [BaseAgent](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.agents.BaseAgent)

LLM-based Agent.

  
FIELDS:

* after\_model\_callback (Optional\[AfterModelCallback\])  
* after\_tool\_callback (Optional\[AfterToolCallback\])  
* before\_model\_callback (Optional\[BeforeModelCallback\])  
* before\_tool\_callback (Optional\[BeforeToolCallback\])  
* code\_executor (Optional\[BaseCodeExecutor\])  
* disallow\_transfer\_to\_parent (bool)  
* disallow\_transfer\_to\_peers (bool)  
* examples (Optional\[ExamplesUnion\])  
* generate\_content\_config (Optional\[types.GenerateContentConfig\])  
* global\_instruction (Union\[str, InstructionProvider\])  
* include\_contents (Literal\['default', 'none'\])  
* input\_schema (Optional\[type\[BaseModel\]\])  
* instruction (Union\[str, InstructionProvider\])  
* model (Union\[str, BaseLlm\])  
* output\_key (Optional\[str\])  
* output\_schema (Optional\[type\[BaseModel\]\])  
* planner (Optional\[BasePlanner\])  
* tools (list\[ToolUnion\])

VALIDATORS:

* \_\_model\_validator\_after » all fields  
* \_\_validate\_generate\_content\_config » generate\_content\_config

**field after\_model\_callback: Optional\[AfterModelCallback\] \= None**  
Callback or list of callbacks to be called after calling the LLM.

When a list of callbacks is provided, the callbacks will be called in the order they are listed until a callback does not return None.

PARAMETERS:

* **callback\_context** – CallbackContext,  
* **llm\_response** – LlmResponse, the actual model response.

RETURNS:  
The content to return to the user. When present, the actual model response will be ignored and the provided content will be returned to user.

VALIDATED BY:

* \_\_model\_validator\_after

**field after\_tool\_callback: Optional\[AfterToolCallback\] \= None**  
Called after the tool is called.

PARAMETERS:

* **tool** – The tool to be called.  
* **args** – The arguments to the tool.  
* **tool\_context** – ToolContext,  
* **tool\_response** – The response from the tool.

RETURNS:  
When present, the returned dict will be used as tool result.

VALIDATED BY:

* \_\_model\_validator\_after

**field before\_model\_callback: Optional\[BeforeModelCallback\] \= None**  
Callback or list of callbacks to be called before calling the LLM.

When a list of callbacks is provided, the callbacks will be called in the order they are listed until a callback does not return None.

PARAMETERS:

* **callback\_context** – CallbackContext,  
* **llm\_request** – LlmRequest, The raw model request. Callback can mutate the  
* **request.**

RETURNS:  
The content to return to the user. When present, the model call will be skipped and the provided content will be returned to user.

VALIDATED BY:

* \_\_model\_validator\_after

**field before\_tool\_callback: Optional\[BeforeToolCallback\] \= None**  
Called before the tool is called.

PARAMETERS:

* **tool** – The tool to be called.  
* **args** – The arguments to the tool.  
* **tool\_context** – ToolContext,

RETURNS:  
The tool response. When present, the returned tool response will be used and the framework will skip calling the actual tool.

VALIDATED BY:

* \_\_model\_validator\_after

**field code\_executor: Optional\[BaseCodeExecutor\] \= None**  
Allow agent to execute code blocks from model responses using the provided CodeExecutor.

Check out available code executions in *google.adk.code\_executor* package.

NOTE: to use model’s built-in code executor, don’t set this field, add *google.adk.tools.built\_in\_code\_execution* to tools instead.

VALIDATED BY:

* \_\_model\_validator\_after

**field disallow\_transfer\_to\_parent: bool \= False**  
Disallows LLM-controlled transferring to the parent agent.

VALIDATED BY:

* \_\_model\_validator\_after

**field disallow\_transfer\_to\_peers: bool \= False**  
Disallows LLM-controlled transferring to the peer agents.

VALIDATED BY:

* \_\_model\_validator\_after

**field examples: Optional\[ExamplesUnion\] \= None**  
VALIDATED BY:

* \_\_model\_validator\_after

**field generate\_content\_config: Optional\[types.GenerateContentConfig\] \= None**  
The additional content generation configurations.

NOTE: not all fields are usable, e.g. tools must be configured via *tools*, thinking\_config must be configured via *planner* in LlmAgent.

For example: use this config to adjust model temperature, configure safety settings, etc.

VALIDATED BY:

* \_\_model\_validator\_after  
* \_\_validate\_generate\_content\_config

**field global\_instruction: Union\[str, InstructionProvider\] \= ''**  
Instructions for all the agents in the entire agent tree.

global\_instruction ONLY takes effect in root agent.

For example: use global\_instruction to make all agents have a stable identity or personality.

VALIDATED BY:

* \_\_model\_validator\_after

**field include\_contents: Literal\['default', 'none'\] \= 'default'**  
Whether to include contents in the model request.

When set to ‘none’, the model request will not include any contents, such as user messages, tool results, etc.

VALIDATED BY:

* \_\_model\_validator\_after

**field input\_schema: Optional\[type\[BaseModel\]\] \= None**  
The input schema when agent is used as a tool.

VALIDATED BY:

* \_\_model\_validator\_after

**field instruction: Union\[str, InstructionProvider\] \= ''**  
Instructions for the LLM model, guiding the agent’s behavior.

VALIDATED BY:

* \_\_model\_validator\_after

**field model: Union\[str, BaseLlm\] \= ''**  
The model to use for the agent.

When not set, the agent will inherit the model from its ancestor.

VALIDATED BY:

* \_\_model\_validator\_after

**field output\_key: Optional\[str\] \= None**  
The key in session state to store the output of the agent.

Typically use cases: \- Extracts agent reply for later use, such as in tools, callbacks, etc. \- Connects agents to coordinate with each other.

VALIDATED BY:

* \_\_model\_validator\_after

**field output\_schema: Optional\[type\[BaseModel\]\] \= None**  
The output schema when agent replies.

NOTE: when this is set, agent can ONLY reply and CANNOT use any tools, such as function tools, RAGs, agent transfer, etc.

VALIDATED BY:

* \_\_model\_validator\_after

**field planner: Optional\[BasePlanner\] \= None**  
Instructs the agent to make a plan and execute it step by step.

NOTE: to use model’s built-in thinking features, set the *thinking\_config* field in *google.adk.planners.built\_in\_planner*.

VALIDATED BY:

* \_\_model\_validator\_after

**field tools: list\[ToolUnion\] \[Optional\]**  
Tools available to this agent.

VALIDATED BY:

* \_\_model\_validator\_after

**canonical\_global\_instruction(ctx)**  
The resolved self.instruction field to construct global instruction.

This method is only for use by Agent Development Kit.

RETURN TYPE:  
str

**canonical\_instruction(ctx)**  
The resolved self.instruction field to construct instruction for this agent.

This method is only for use by Agent Development Kit.

RETURN TYPE:  
str

**property canonical\_after\_model\_callbacks: list\[Callable\[\[CallbackContext, LlmResponse\], Awaitable\[LlmResponse | None\] | LlmResponse | None\]\]**  
The resolved self.after\_model\_callback field as a list of \_SingleAfterModelCallback.

This method is only for use by Agent Development Kit.

**property canonical\_before\_model\_callbacks: list\[Callable\[\[CallbackContext, LlmRequest\], Awaitable\[LlmResponse | None\] | LlmResponse | None\]\]**  
The resolved self.before\_model\_callback field as a list of \_SingleBeforeModelCallback.

This method is only for use by Agent Development Kit.

**property canonical\_model: [BaseLlm](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.models.BaseLlm)**  
The resolved self.model field as BaseLlm.

This method is only for use by Agent Development Kit.

**property canonical\_tools: list\[[BaseTool](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.tools.BaseTool)\]**  
The resolved self.tools field as a list of BaseTool.

This method is only for use by Agent Development Kit.

**pydantic model** google.adk.agents.**LoopAgent**  
Bases: [BaseAgent](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.agents.BaseAgent)

A shell agent that run its sub-agents in a loop.

When sub-agent generates an event with escalate or max\_iterations are reached, the loop agent will stop.

  
FIELDS:

* max\_iterations (Optional\[int\])

VALIDATORS:  
**field max\_iterations: Optional\[int\] \= None**  
The maximum number of iterations to run the loop agent.

If not set, the loop agent will run indefinitely until a sub-agent escalates.

**pydantic model** google.adk.agents.**ParallelAgent**  
Bases: [BaseAgent](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.agents.BaseAgent)

A shell agent that run its sub-agents in parallel in isolated manner.

This approach is beneficial for scenarios requiring multiple perspectives or attempts on a single task, such as:

* Running different algorithms simultaneously.  
* Generating multiple responses for review by a subsequent evaluation agent.

  
FIELDS:  
VALIDATORS:  
**pydantic model** google.adk.agents.**SequentialAgent**  
Bases: [BaseAgent](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.agents.BaseAgent)

A shell agent that run its sub-agents in sequence.

  
FIELDS:  
VALIDATORS:  
