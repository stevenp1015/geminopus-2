### google.adk.runners module

**google.adk.runners module**

**class** google.adk.runners.**InMemoryRunner(agent, \*, app\_name='InMemoryRunner')**  
Bases: [Runner](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.runners.Runner)

An in-memory Runner for testing and development.

This runner uses in-memory implementations for artifact, session, and memory services, providing a lightweight and self-contained environment for agent execution.

**agent**  
The root agent to run.

**app\_name**  
The application name of the runner. Defaults to ‘InMemoryRunner’.

Initializes the InMemoryRunner.

PARAMETERS:

* **agent** – The root agent to run.  
* **app\_name** – The application name of the runner. Defaults to ‘InMemoryRunner’.

**class** google.adk.runners.**Runner(\*, app\_name, agent, artifact\_service=None, session\_service, memory\_service=None)**  
Bases: object

The Runner class is used to run agents.

It manages the execution of an agent within a session, handling message processing, event generation, and interaction with various services like artifact storage, session management, and memory.

**app\_name**  
The application name of the runner.

**agent**  
The root agent to run.

**artifact\_service**  
The artifact service for the runner.

**session\_service**  
The session service for the runner.

**memory\_service**  
The memory service for the runner.

Initializes the Runner.

PARAMETERS:

* **app\_name** – The application name of the runner.  
* **agent** – The root agent to run.  
* **artifact\_service** – The artifact service for the runner.  
* **session\_service** – The session service for the runner.  
* **memory\_service** – The memory service for the runner.

**agent: [BaseAgent](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.agents.BaseAgent)**  
The root agent to run.

**app\_name: str**  
The app name of the runner.

**artifact\_service: Optional\[[BaseArtifactService](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.artifacts.BaseArtifactService)\] \= None**  
The artifact service for the runner.

**async close\_session(session)**  
Closes a session and adds it to the memory service (experimental feature).

PARAMETERS:  
**session** – The session to close.

**memory\_service: Optional\[[BaseMemoryService](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.memory.BaseMemoryService)\] \= None**  
The memory service for the runner.

**run(\*, user\_id, session\_id, new\_message, run\_config=RunConfig(speech\_config=None, response\_modalities=None, save\_input\_blobs\_as\_artifacts=False, support\_cfc=False, streaming\_mode=\<StreamingMode.NONE: None\>, output\_audio\_transcription=None, input\_audio\_transcription=None, max\_llm\_calls=500))**  
Runs the agent.

NOTE: This sync interface is only for local testing and convenience purpose. Consider using *run\_async* for production usage.

RETURN TYPE:  
Generator\[[Event](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.events.Event), None, None\]

PARAMETERS:

* **user\_id** – The user ID of the session.  
* **session\_id** – The session ID of the session.  
* **new\_message** – A new message to append to the session.  
* **run\_config** – The run config for the agent.

YIELDS:  
The events generated by the agent.

**async run\_async(\*, user\_id, session\_id, new\_message, run\_config=RunConfig(speech\_config=None, response\_modalities=None, save\_input\_blobs\_as\_artifacts=False, support\_cfc=False, streaming\_mode=\<StreamingMode.NONE: None\>, output\_audio\_transcription=None, input\_audio\_transcription=None, max\_llm\_calls=500))**  
Main entry method to run the agent in this runner.

RETURN TYPE:  
AsyncGenerator\[[Event](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.events.Event), None\]

PARAMETERS:

* **user\_id** – The user ID of the session.  
* **session\_id** – The session ID of the session.  
* **new\_message** – A new message to append to the session.  
* **run\_config** – The run config for the agent.

YIELDS:  
The events generated by the agent.

**async run\_live(\*, session, live\_request\_queue, run\_config=RunConfig(speech\_config=None, response\_modalities=None, save\_input\_blobs\_as\_artifacts=False, support\_cfc=False, streaming\_mode=\<StreamingMode.NONE: None\>, output\_audio\_transcription=None, input\_audio\_transcription=None, max\_llm\_calls=500))**  
Runs the agent in live mode (experimental feature).

RETURN TYPE:  
AsyncGenerator\[[Event](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.events.Event), None\]

PARAMETERS:

* **session** – The session to use.  
* **live\_request\_queue** – The queue for live requests.  
* **run\_config** – The run config for the agent.

YIELDS:  
The events generated by the agent.

Warning

This feature is **experimental** and its API or behavior may change in future releases.  
**session\_service: [BaseSessionService](https://google.github.io/adk-docs/api-reference/python/google-adk.html#google.adk.sessions.BaseSessionService)**  
The session service for the runner.

